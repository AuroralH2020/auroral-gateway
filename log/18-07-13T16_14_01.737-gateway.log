Jul 13, 2018 4:14:01 PM eu.bavenir.ogwapi.App initialize
CONFIG: Log file: log/18-07-13T16_14_01.737-gateway.log
Jul 13, 2018 4:14:01 PM eu.bavenir.ogwapi.App main
FINE: Vicinity Gateway API initialized.
Jul 13, 2018 4:14:01 PM eu.bavenir.ogwapi.App main
FINE: API thread started.
Jul 13, 2018 4:14:01 PM eu.bavenir.ogwapi.restapi.RestletThread run
CONFIG: HTTP server configured.
Jul 13, 2018 4:14:01 PM eu.bavenir.ogwapi.restapi.Api configureChallengeScheme
CONFIG: HTTP Basic challenge authentication scheme configured.
Jul 13, 2018 4:14:01 PM org.restlet.Application start
INFO: Starting eu.bavenir.ogwapi.restapi.Api application
Jul 13, 2018 4:14:01 PM org.restlet.engine.application.ApplicationHelper start
FINE: By default, an application should be attached to a parent component in order to let application's outbound root handle calls properly.
Jul 13, 2018 4:14:01 PM eu.bavenir.ogwapi.restapi.RestletThread run
FINE: HTTP server component started.
Jul 13, 2018 4:14:16 PM eu.bavenir.ogwapi.commons.CommunicationManager isConnected
WARNING: Null record in the connection descriptor pool. Object ID: 'org1dev1'.
Jul 13, 2018 4:14:16 PM eu.bavenir.ogwapi.commons.connectors.http.RestAgentConnector <init>
CONFIG: HTTPS protocol disabled for Agent communication
Jul 13, 2018 4:14:16 PM eu.bavenir.ogwapi.commons.engines.xmpp.XmppMessageEngine buildNewConnection
CONFIG: Creating a new connection to XMPP server 'commserver.bavenir.eu:5222' as 'org1dev1@vicinity.eu'
Jul 13, 2018 4:14:16 PM eu.bavenir.ogwapi.commons.engines.xmpp.XmppMessageEngine buildNewConnection
CONFIG: XMPP SECURE CONNECTION IS DISABLED.
Jul 13, 2018 4:14:17 PM eu.bavenir.ogwapi.commons.CommunicationManager establishConnection
INFO: Connection for 'org1dev1' was established.
Jul 13, 2018 4:14:17 PM eu.bavenir.ogwapi.commons.CommunicationManager establishConnection
FINEST: A new connection for 'org1dev1' was added into connection pool.
Jul 13, 2018 4:14:17 PM eu.bavenir.ogwapi.restapi.security.AuthenticationVerifier verify
FINE: Valid credentials received from a client with IP 127.0.0.1.
Jul 13, 2018 4:14:17 PM org.restlet.security.ChallengeAuthenticator authenticate
FINE: Authentication succeeded. Valid credentials provided for identifier: org1dev1.
Jul 13, 2018 4:14:17 PM org.restlet.security.Authenticator authenticated
FINE: The authentication succeeded for the identifer "org1dev1" using the HTTP_Basic scheme.
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/login" URI pattern: 0.0
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/logout" URI pattern: 0.0
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/properties" URI pattern: 0.0
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/properties/{pid}" URI pattern: 0.0
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/actions" URI pattern: 0.0
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/actions/{aid}" URI pattern: 1.0
Jul 13, 2018 4:14:17 PM org.restlet.routing.Router logRoute
FINE: Selected route: "/objects/{oid}/actions/{aid}" -> Finder for ObjectsOidActionsAid
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute beforeHandle
FINER: 40 characters were matched
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute beforeHandle
FINE: New base URI: "http://localhost:8181/api/objects/org1dev1/actions/device-1-aid-1". No remaining part to match
Jul 13, 2018 4:14:17 PM org.restlet.routing.TemplateRoute beforeHandle
FINER: Delegating the call to the target Restlet
Jul 13, 2018 4:14:17 PM org.restlet.engine.application.StrictConneg scoreAnnotation
FINE: Score of annotation "MethodAnnotationInfo [javaMethod: public org.restlet.representation.Representation eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid.store(org.restlet.representation.Representation), javaClass: class eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid, restletMethod: PUT, input: json, value: json, output: json, query: null]"= 0.5
Jul 13, 2018 4:14:17 PM org.restlet.engine.application.StrictConneg scoreVariant
FINE: Total score of variant "[application/json]"= 0.08383334
Jul 13, 2018 4:14:17 PM org.restlet.service.ConverterService toObject
FINE: The following converter was selected for the [application/json] representation: org.restlet.engine.converter.DefaultConverter@3aadf5a8
Jul 13, 2018 4:14:17 PM eu.bavenir.ogwapi.commons.ConnectionDescriptor updateTaskStatus
WARNING: No such action device-1-aid-1
Jul 13, 2018 4:14:17 PM org.restlet.resource.ServerResource doCatch
SEVERE: Exception or error caught in server resource
org.restlet.resource.ResourceException: Internal Server Error (500) - The server encountered an unexpected condition which prevented it from fulfilling the request
	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:527)
	at org.restlet.resource.ServerResource.put(ServerResource.java:1395)
	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:595)
	at org.restlet.resource.ServerResource.doNegotiatedHandle(ServerResource.java:662)
	at org.restlet.resource.ServerResource.doConditionalHandle(ServerResource.java:348)
	at org.restlet.resource.ServerResource.handle(ServerResource.java:1020)
	at org.restlet.resource.Finder.handle(Finder.java:236)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Router.doHandle(Router.java:422)
	at org.restlet.routing.Router.handle(Router.java:641)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:140)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.engine.CompositeHelper.handle(CompositeHelper.java:202)
	at org.restlet.engine.application.ApplicationHelper.handle(ApplicationHelper.java:77)
	at org.restlet.Application.handle(Application.java:385)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Router.doHandle(Router.java:422)
	at org.restlet.routing.Router.handle(Router.java:641)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Router.doHandle(Router.java:422)
	at org.restlet.routing.Router.handle(Router.java:641)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:140)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.engine.CompositeHelper.handle(CompositeHelper.java:202)
	at org.restlet.Component.handle(Component.java:408)
	at org.restlet.Server.handle(Server.java:507)
	at org.restlet.engine.connector.ServerHelper.handle(ServerHelper.java:63)
	at org.restlet.engine.adapter.HttpServerHelper.handle(HttpServerHelper.java:143)
	at org.restlet.engine.connector.HttpServerHelper$1.handle(HttpServerHelper.java:64)
	at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)
	at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)
	at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)
	at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)
	at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)
	at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.json.JSONObject.populateMap(JSONObject.java:1131)
	at org.json.JSONObject.<init>(JSONObject.java:277)
	at org.restlet.ext.json.JsonRepresentation.<init>(JsonRepresentation.java:126)
	at eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid.updateActionStatus(ObjectsOidActionsAid.java:194)
	at eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid.store(ObjectsOidActionsAid.java:154)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:508)
	... 52 more

Jul 13, 2018 4:14:17 PM org.restlet.engine.application.StrictConneg scoreVariant
FINE: Total score of variant "[text/html]"= 2.5E-4
Jul 13, 2018 4:14:17 PM org.restlet.engine.application.StrictConneg scoreVariant
FINE: Total score of variant "[application/xhtml+xml]"= 5.0E-4
Jul 13, 2018 4:14:17 PM org.restlet.service.ConverterService toRepresentation
FINE: Converter selected for StatusInfo: StatusInfoHtmlConverter
Jul 13, 2018 4:14:33 PM eu.bavenir.ogwapi.restapi.security.AuthenticationVerifier verify
FINE: Valid credentials received from a client with IP 127.0.0.1.
Jul 13, 2018 4:14:33 PM org.restlet.security.ChallengeAuthenticator authenticate
FINE: Authentication succeeded. Valid credentials provided for identifier: org1dev1.
Jul 13, 2018 4:14:33 PM org.restlet.security.Authenticator authenticated
FINE: The authentication succeeded for the identifer "org1dev1" using the HTTP_Basic scheme.
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/login" URI pattern: 0.0
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/logout" URI pattern: 0.0
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/properties" URI pattern: 0.0
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/properties/{pid}" URI pattern: 0.0
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/actions" URI pattern: 0.0
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute score
FINER: Call score for the "/objects/{oid}/actions/{aid}" URI pattern: 1.0
Jul 13, 2018 4:14:33 PM org.restlet.routing.Router logRoute
FINE: Selected route: "/objects/{oid}/actions/{aid}" -> Finder for ObjectsOidActionsAid
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute beforeHandle
FINER: 40 characters were matched
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute beforeHandle
FINE: New base URI: "http://localhost:8181/api/objects/org1dev1/actions/device-1-aid-1". No remaining part to match
Jul 13, 2018 4:14:33 PM org.restlet.routing.TemplateRoute beforeHandle
FINER: Delegating the call to the target Restlet
Jul 13, 2018 4:14:33 PM org.restlet.engine.application.StrictConneg scoreAnnotation
FINE: Score of annotation "MethodAnnotationInfo [javaMethod: public org.restlet.representation.Representation eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid.store(org.restlet.representation.Representation), javaClass: class eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid, restletMethod: PUT, input: json, value: json, output: json, query: null]"= 0.25
Jul 13, 2018 4:14:33 PM org.restlet.engine.application.StrictConneg scoreVariant
FINE: Total score of variant "[application/json]"= 0.042166665
Jul 13, 2018 4:14:33 PM org.restlet.service.ConverterService toObject
FINE: The following converter was selected for the [application/json] representation: org.restlet.engine.converter.DefaultConverter@3aadf5a8
Jul 13, 2018 4:14:33 PM eu.bavenir.ogwapi.commons.ConnectionDescriptor updateTaskStatus
WARNING: No such action device-1-aid-1
Jul 13, 2018 4:14:33 PM org.restlet.resource.ServerResource doCatch
SEVERE: Exception or error caught in server resource
org.restlet.resource.ResourceException: Internal Server Error (500) - The server encountered an unexpected condition which prevented it from fulfilling the request
	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:527)
	at org.restlet.resource.ServerResource.put(ServerResource.java:1395)
	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:595)
	at org.restlet.resource.ServerResource.doNegotiatedHandle(ServerResource.java:662)
	at org.restlet.resource.ServerResource.doConditionalHandle(ServerResource.java:348)
	at org.restlet.resource.ServerResource.handle(ServerResource.java:1020)
	at org.restlet.resource.Finder.handle(Finder.java:236)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Router.doHandle(Router.java:422)
	at org.restlet.routing.Router.handle(Router.java:641)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:140)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.engine.CompositeHelper.handle(CompositeHelper.java:202)
	at org.restlet.engine.application.ApplicationHelper.handle(ApplicationHelper.java:77)
	at org.restlet.Application.handle(Application.java:385)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Router.doHandle(Router.java:422)
	at org.restlet.routing.Router.handle(Router.java:641)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Router.doHandle(Router.java:422)
	at org.restlet.routing.Router.handle(Router.java:641)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:140)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.routing.Filter.doHandle(Filter.java:150)
	at org.restlet.routing.Filter.handle(Filter.java:197)
	at org.restlet.engine.CompositeHelper.handle(CompositeHelper.java:202)
	at org.restlet.Component.handle(Component.java:408)
	at org.restlet.Server.handle(Server.java:507)
	at org.restlet.engine.connector.ServerHelper.handle(ServerHelper.java:63)
	at org.restlet.engine.adapter.HttpServerHelper.handle(HttpServerHelper.java:143)
	at org.restlet.engine.connector.HttpServerHelper$1.handle(HttpServerHelper.java:64)
	at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)
	at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)
	at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)
	at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)
	at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)
	at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.json.JSONObject.populateMap(JSONObject.java:1131)
	at org.json.JSONObject.<init>(JSONObject.java:277)
	at org.restlet.ext.json.JsonRepresentation.<init>(JsonRepresentation.java:126)
	at eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid.updateActionStatus(ObjectsOidActionsAid.java:194)
	at eu.bavenir.ogwapi.restapi.services.ObjectsOidActionsAid.store(ObjectsOidActionsAid.java:154)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:508)
	... 52 more

Jul 13, 2018 4:14:33 PM org.restlet.engine.application.StrictConneg scoreVariant
FINE: Total score of variant "[text/html]"= 2.5E-4
Jul 13, 2018 4:14:33 PM org.restlet.engine.application.StrictConneg scoreVariant
FINE: Total score of variant "[application/xhtml+xml]"= 5.0E-4
Jul 13, 2018 4:14:33 PM org.restlet.service.ConverterService toRepresentation
FINE: Converter selected for StatusInfo: StatusInfoHtmlConverter
