<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Wed Nov 28 17:16:17 CET 2018 -->
<title>NetworkMessage</title>
<meta name="date" content="2018-11-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NetworkMessage";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NetworkMessage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../eu/bavenir/ogwapi/commons/messages/MessageResolver.html" title="class in eu.bavenir.ogwapi.commons.messages"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageEvent.html" title="class in eu.bavenir.ogwapi.commons.messages"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?eu/bavenir/ogwapi/commons/messages/NetworkMessage.html" target="_top">Frames</a></li>
<li><a href="NetworkMessage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.bavenir.ogwapi.commons.messages</div>
<h2 title="Class NetworkMessage" class="title">Class NetworkMessage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>eu.bavenir.ogwapi.commons.messages.NetworkMessage</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageEvent.html" title="class in eu.bavenir.ogwapi.commons.messages">NetworkMessageEvent</a>, <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageRequest.html" title="class in eu.bavenir.ogwapi.commons.messages">NetworkMessageRequest</a>, <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageResponse.html" title="class in eu.bavenir.ogwapi.commons.messages">NetworkMessageResponse</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">NetworkMessage</span>
extends java.lang.Object</pre>
<div class="block">This is the basis for OGWAPI network messaging protocol and serves as a parent class for <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageRequest.html" title="class in eu.bavenir.ogwapi.commons.messages"><code>request</code></a>,
 <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageResponse.html" title="class in eu.bavenir.ogwapi.commons.messages"><code>response</code></a> and <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageEvent.html" title="class in eu.bavenir.ogwapi.commons.messages"><code>event</code></a>.
 It contains fields that are common for all extending classes and ensure proper routing across the network, while the
 functionality gets extended in subclasses.
 
 If there is a need to create a new message class for the OGWAPI's protocol, make it a subclass of this one and give it
 its own <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#MESSAGE_TYPE"><code>MESSAGE_TYPE</code></a> number (look into other message classes to see what number they are using
 and avoid those).
 
 When extending OGWAPI's code with processes that handle freshly parsed message of any type, always check for 
 <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#isValid--"><code>validity</code></a> and if the message is not valid, discard it.
 
 Recommended general approach should be obvious from a quick glance on <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageRequest.html" title="class in eu.bavenir.ogwapi.commons.messages"><code>request</code></a>,
 <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageResponse.html" title="class in eu.bavenir.ogwapi.commons.messages"><code>response</code></a> or <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageEvent.html" title="class in eu.bavenir.ogwapi.commons.messages"><code>event</code></a>
 message implementation:
 
  1. Create a parsing method for your new message class. See <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageRequest.html#parseJson-javax.json.JsonObject-"><code>parseJson</code></a>
     of the request message to see how to do it.
  2. In the constructor of your message use following (or similar) few lines of code:
  
     if (!parseJson(json)){
         setValid(false);
     }
     
  3. Add appropriate lines into <a href="../../../../../eu/bavenir/ogwapi/commons/messages/MessageResolver.html" title="class in eu.bavenir.ogwapi.commons.messages"><code>MessageResolver</code></a> constructor.
     This will ensure correct translation of the incoming message.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>sulfo</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#ATTR_DESTINATIONOID">ATTR_DESTINATIONOID</a></span></code>
<div class="block">Name of the destination object ID attribute in JSON that is to be transported.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#ATTR_MESSAGETYPE">ATTR_MESSAGETYPE</a></span></code>
<div class="block">Name of the message type attribute in JSON that is to be transported.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#ATTR_REQUESTID">ATTR_REQUESTID</a></span></code>
<div class="block">Name of the request ID attribute in JSON that is to be transported.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#ATTR_SOURCEOID">ATTR_SOURCEOID</a></span></code>
<div class="block">Name of the source object ID attribute in JSON that is to be transported.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.commons.configuration2.XMLConfiguration</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#config">config</a></span></code>
<div class="block">Configuration - necessary to obtain a timeout value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#CONFIG_DEF_REQUESTMESSAGETIMEOUT">CONFIG_DEF_REQUESTMESSAGETIMEOUT</a></span></code>
<div class="block">Default value of <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#CONFIG_PARAM_REQUESTMESSAGETIMEOUT"><code>CONFIG_PARAM_REQUESTMESSAGETIMEOUT</code></a> 
 configuration parameter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#CONFIG_PARAM_REQUESTMESSAGETIMEOUT">CONFIG_PARAM_REQUESTMESSAGETIMEOUT</a></span></code>
<div class="block">Number of seconds to consider request message as no longer relevant.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#destinationOid">destinationOid</a></span></code>
<div class="block">String with object ID of the destination.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected javax.json.JsonObject</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#jsonRepresentation">jsonRepresentation</a></span></code>
<div class="block">The JSON object that can be a result of two events:
  - Either a JSON arrived in a message and is saved here while it was being parsed and fields of this object
        were filled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#logger">logger</a></span></code>
<div class="block">Logger - useful when exception during parsing is thrown.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#MESSAGE_TYPE">MESSAGE_TYPE</a></span></code>
<div class="block">This is how this raw type of message should be marked in the <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#messageType"><code>messageType</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#messageType">messageType</a></span></code>
<div class="block">Determines the type of this message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#requestId">requestId</a></span></code>
<div class="block">A service call to Gateway API will produce a message sent across the network for processing by a 
 remote object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#sourceOid">sourceOid</a></span></code>
<div class="block">String with the object ID of the destination.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#stale">stale</a></span></code>
<div class="block">Defines, whether this message is older than the <code>timeout</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#timeStamp">timeStamp</a></span></code>
<div class="block">UNIX time stamp generated in the moment the instance of this class is constructed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#valid">valid</a></span></code>
<div class="block">Defines, whether this network message is valid or not.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#NetworkMessage-org.apache.commons.configuration2.XMLConfiguration-java.util.logging.Logger-">NetworkMessage</a></span>(org.apache.commons.configuration2.XMLConfiguration&nbsp;config,
              java.util.logging.Logger&nbsp;logger)</code>
<div class="block">Basic constructor for the message.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#getDestinationOid--">getDestinationOid</a></span>()</code>
<div class="block">Returns the object ID of the destination.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#getMessageType--">getMessageType</a></span>()</code>
<div class="block">Retrieves the type of instantiated message.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#getRequestId--">getRequestId</a></span>()</code>
<div class="block">Getter for the ID of the request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#getSourceOid--">getSourceOid</a></span>()</code>
<div class="block">Returns the object ID of the source.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#getTimeStamp--">getTimeStamp</a></span>()</code>
<div class="block">Retrieves the time stamp of the message.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#isValid--">isValid</a></span>()</code>
<div class="block">Check for message validity.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#removeQuotes-java.lang.String-">removeQuotes</a></span>(java.lang.String&nbsp;quotedString)</code>
<div class="block">Inserting a string into JSON has a side effect of the string becoming quoted when extracted back from the JSON.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#setDestinationOid-java.lang.String-">setDestinationOid</a></span>(java.lang.String&nbsp;destinationOid)</code>
<div class="block">Sets the destination object ID.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#setMessageType-int-">setMessageType</a></span>(int&nbsp;messageType)</code>
<div class="block">Sets the type of instantiated message.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#setRequestId-int-">setRequestId</a></span>(int&nbsp;requestId)</code>
<div class="block">Sets the request ID (e.g.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#setSourceOid-java.lang.String-">setSourceOid</a></span>(java.lang.String&nbsp;sourceOid)</code>
<div class="block">Sets the object ID of the source.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#setValid-boolean-">setValid</a></span>(boolean&nbsp;valid)</code>
<div class="block">Override the value of the message validity.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MESSAGE_TYPE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_TYPE</h4>
<pre>public static final&nbsp;int MESSAGE_TYPE</pre>
<div class="block">This is how this raw type of message should be marked in the <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#messageType"><code>messageType</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#eu.bavenir.ogwapi.commons.messages.NetworkMessage.MESSAGE_TYPE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ATTR_MESSAGETYPE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ATTR_MESSAGETYPE</h4>
<pre>public static final&nbsp;java.lang.String ATTR_MESSAGETYPE</pre>
<div class="block">Name of the message type attribute in JSON that is to be transported.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#eu.bavenir.ogwapi.commons.messages.NetworkMessage.ATTR_MESSAGETYPE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ATTR_REQUESTID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ATTR_REQUESTID</h4>
<pre>public static final&nbsp;java.lang.String ATTR_REQUESTID</pre>
<div class="block">Name of the request ID attribute in JSON that is to be transported.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#eu.bavenir.ogwapi.commons.messages.NetworkMessage.ATTR_REQUESTID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ATTR_SOURCEOID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ATTR_SOURCEOID</h4>
<pre>public static final&nbsp;java.lang.String ATTR_SOURCEOID</pre>
<div class="block">Name of the source object ID attribute in JSON that is to be transported.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#eu.bavenir.ogwapi.commons.messages.NetworkMessage.ATTR_SOURCEOID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ATTR_DESTINATIONOID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ATTR_DESTINATIONOID</h4>
<pre>public static final&nbsp;java.lang.String ATTR_DESTINATIONOID</pre>
<div class="block">Name of the destination object ID attribute in JSON that is to be transported.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#eu.bavenir.ogwapi.commons.messages.NetworkMessage.ATTR_DESTINATIONOID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CONFIG_PARAM_REQUESTMESSAGETIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONFIG_PARAM_REQUESTMESSAGETIMEOUT</h4>
<pre>public static final&nbsp;java.lang.String CONFIG_PARAM_REQUESTMESSAGETIMEOUT</pre>
<div class="block">Number of seconds to consider request message as no longer relevant. 
 After a request is sent from point A to point B, point A waits for 
 response. If the response does not arrive until this timeout expires, 
 point B is considered unreachable. If the response arrives after this
 happens, the response is ignored and discarded and a new request has
 to be sent.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#eu.bavenir.ogwapi.commons.messages.NetworkMessage.CONFIG_PARAM_REQUESTMESSAGETIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CONFIG_DEF_REQUESTMESSAGETIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONFIG_DEF_REQUESTMESSAGETIMEOUT</h4>
<pre>public static final&nbsp;int CONFIG_DEF_REQUESTMESSAGETIMEOUT</pre>
<div class="block">Default value of <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#CONFIG_PARAM_REQUESTMESSAGETIMEOUT"><code>CONFIG_PARAM_REQUESTMESSAGETIMEOUT</code></a> 
 configuration parameter. This value is taken into account when no suitable value is found in the configuration
 file.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#eu.bavenir.ogwapi.commons.messages.NetworkMessage.CONFIG_DEF_REQUESTMESSAGETIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="messageType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageType</h4>
<pre>protected&nbsp;int messageType</pre>
<div class="block">Determines the type of this message. Each class that extends NetworkMessage should have its own constant of
 MESSAGE_TYPE implemented. The decision tree can then be very easily created like:
 
 if (someMessage.getMessageType() ==  NetworkMessageRequest.MESSAGE_TYPE){
                // stuff that needs to be done when NetworkMessageRequest arrives
 }</div>
</li>
</ul>
<a name="valid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>valid</h4>
<pre>protected&nbsp;boolean valid</pre>
<div class="block">Defines, whether this network message is valid or not. Implicitly set to true, should be explicitly
 marked as invalid if something wrong happens (e.g. when incoming message can't be successfully parsed).</div>
</li>
</ul>
<a name="stale">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stale</h4>
<pre>protected&nbsp;boolean stale</pre>
<div class="block">Defines, whether this message is older than the <code>timeout</code>.</div>
</li>
</ul>
<a name="requestId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestId</h4>
<pre>protected&nbsp;int requestId</pre>
<div class="block">A service call to Gateway API will produce a message sent across the network for processing by a 
 remote object. After processing a response message is sent back, received and inserted into a queue. The service
 that was the original sender can then sort through the queue and find a the message it is waiting for based on
 this request ID.</div>
</li>
</ul>
<a name="destinationOid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destinationOid</h4>
<pre>protected&nbsp;java.lang.String destinationOid</pre>
<div class="block">String with object ID of the destination.</div>
</li>
</ul>
<a name="sourceOid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sourceOid</h4>
<pre>protected&nbsp;java.lang.String sourceOid</pre>
<div class="block">String with the object ID of the destination.</div>
</li>
</ul>
<a name="timeStamp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeStamp</h4>
<pre>protected&nbsp;long timeStamp</pre>
<div class="block">UNIX time stamp generated in the moment the instance of this class is constructed.</div>
</li>
</ul>
<a name="config">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>config</h4>
<pre>protected&nbsp;org.apache.commons.configuration2.XMLConfiguration config</pre>
<div class="block">Configuration - necessary to obtain a timeout value.</div>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected&nbsp;java.util.logging.Logger logger</pre>
<div class="block">Logger - useful when exception during parsing is thrown.</div>
</li>
</ul>
<a name="jsonRepresentation">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>jsonRepresentation</h4>
<pre>protected&nbsp;javax.json.JsonObject jsonRepresentation</pre>
<div class="block">The JSON object that can be a result of two events:
  - Either a JSON arrived in a message and is saved here while it was being parsed and fields of this object
        were filled. It is useful to keep it here, because parsing can fail, making the message invalid, in which 
        case the validity <a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessage.html#valid"><code>flag</code></a> is set to false. While the JSON is stored here, it can 
        be logged somewhere conveniently.
  - A message to be sent is being built, and after all necessary fields, parameters and attributes are set, the 
        JSON is assembled using <code>build</code> method. This would overwrite the JSON from the
        first event, if the same message object is used (which should not happen).</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NetworkMessage-org.apache.commons.configuration2.XMLConfiguration-java.util.logging.Logger-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NetworkMessage</h4>
<pre>public&nbsp;NetworkMessage(org.apache.commons.configuration2.XMLConfiguration&nbsp;config,
                      java.util.logging.Logger&nbsp;logger)</pre>
<div class="block">Basic constructor for the message. Only time stamp is computed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - Configuration of the OGWAPI.</dd>
<dd><code>logger</code> - Logger of the OGWAPI.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getRequestId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestId</h4>
<pre>public&nbsp;int&nbsp;getRequestId()</pre>
<div class="block">Getter for the ID of the request. The request ID of the message is randomly generated when an instance of outgoing
 message is constructed. In case when incoming message is being parsed, the request ID is extracted from the
 arriving message.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Numerical ID of the request.</dd>
</dl>
</li>
</ul>
<a name="setRequestId-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRequestId</h4>
<pre>public&nbsp;void&nbsp;setRequestId(int&nbsp;requestId)</pre>
<div class="block">Sets the request ID (e.g. when the message is being parsed).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestId</code> - Correlation ID of the request.</dd>
</dl>
</li>
</ul>
<a name="getDestinationOid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDestinationOid</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDestinationOid()</pre>
<div class="block">Returns the object ID of the destination.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Object ID of the destination.</dd>
</dl>
</li>
</ul>
<a name="setDestinationOid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDestinationOid</h4>
<pre>public&nbsp;void&nbsp;setDestinationOid(java.lang.String&nbsp;destinationOid)</pre>
<div class="block">Sets the destination object ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destinationOid</code> - Object ID of the destination.</dd>
</dl>
</li>
</ul>
<a name="getSourceOid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSourceOid</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSourceOid()</pre>
<div class="block">Returns the object ID of the source.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Object ID of the source.</dd>
</dl>
</li>
</ul>
<a name="setSourceOid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSourceOid</h4>
<pre>public&nbsp;void&nbsp;setSourceOid(java.lang.String&nbsp;sourceOid)</pre>
<div class="block">Sets the object ID of the source.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sourceOid</code> - Source object ID.</dd>
</dl>
</li>
</ul>
<a name="getTimeStamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStamp</h4>
<pre>public&nbsp;long&nbsp;getTimeStamp()</pre>
<div class="block">Retrieves the time stamp of the message. The time stamp is always recorded when instance of this class or its subclass 
 is constructed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>UNIX time stamp (milliseconds).</dd>
</dl>
</li>
</ul>
<a name="isValid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValid</h4>
<pre>public&nbsp;boolean&nbsp;isValid()</pre>
<div class="block">Check for message validity. This checks both for message's syntactical validity (i.e. whether it can be 
 successfully parsed) and for being stale (i.e. whether or not the message was sitting somewhere for too long).
 
 This can be considered as correct test on whether or not the message should be discarded.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the message is both valid and not stale.</dd>
</dl>
</li>
</ul>
<a name="setValid-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValid</h4>
<pre>public&nbsp;void&nbsp;setValid(boolean&nbsp;valid)</pre>
<div class="block">Override the value of the message validity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>valid</code> - A value to be set.</dd>
</dl>
</li>
</ul>
<a name="getMessageType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageType</h4>
<pre>public&nbsp;int&nbsp;getMessageType()</pre>
<div class="block">Retrieves the type of instantiated message.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Integer with corresponding type number.</dd>
</dl>
</li>
</ul>
<a name="setMessageType-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMessageType</h4>
<pre>public&nbsp;void&nbsp;setMessageType(int&nbsp;messageType)</pre>
<div class="block">Sets the type of instantiated message.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageType</code> - Integer with corresponding type number.</dd>
</dl>
</li>
</ul>
<a name="removeQuotes-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeQuotes</h4>
<pre>public&nbsp;java.lang.String&nbsp;removeQuotes(java.lang.String&nbsp;quotedString)</pre>
<div class="block">Inserting a string into JSON has a side effect of the string becoming quoted when extracted back from the JSON.
 This little toy just removes quotes if there are any (it tests for their existence first).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>quotedString</code> - The original DOUBLE quoted string.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Unquoted string, or null if the string is either null, or it has zero length. It returns the original 
 string if it is not quoted.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NetworkMessage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../eu/bavenir/ogwapi/commons/messages/MessageResolver.html" title="class in eu.bavenir.ogwapi.commons.messages"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../eu/bavenir/ogwapi/commons/messages/NetworkMessageEvent.html" title="class in eu.bavenir.ogwapi.commons.messages"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?eu/bavenir/ogwapi/commons/messages/NetworkMessage.html" target="_top">Frames</a></li>
<li><a href="NetworkMessage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
